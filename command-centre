#!/usr/bin/env php
<?php

$commands = [
    'list' => 'List the available commands.',
    'generate' => 'Generate the docs based on the include files.'
];

$fileName = explode('/', __FILE__);
$fileName = $fileName[count($fileName) - 1];

$command = $argv[1] ?? false;

switch ($command) {
    case 'list':
        foreach ($commands as $command => $description) {
            echo $command.' - '.$description . PHP_EOL;
            echo PHP_EOL . 'Running a command:' . PHP_EOL;
            echo 'php ' . $fileName . ' {COMMAND}' . PHP_EOL;
        }
        break;

    case 'generate':
        include(__DIR__.'/generate/update.php');
        break;

    case 'get-includes':
        $latest = $arg[2] ?? 'http://sourcemod.net/latest.php?version=1.9&os=linux';



        break;

    default:
        echo 'No command detected.' . PHP_EOL;
        echo PHP_EOL . 'To list commands run:' . PHP_EOL;
        echo 'php ' . $fileName . ' list' . PHP_EOL;
}